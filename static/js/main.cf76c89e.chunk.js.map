{"version":3,"sources":["assets/izettle-reader.png","assets/swish_button.png","components/Spinner/index.js","components/CircleWave/index.js","utils/util.js","pages/Home/index.js","components/Table/index.js","pages/Payment/index.js","pages/Result/index.js","components/TextInput/index.js","components/Button/index.js","pages/demo/index.js","index.js","App.js"],"names":["module","exports","__webpack_require__","p","Spinner","react_default","a","createElement","className","classnames","CircleWave","props","children","checkIfValidPurchases","rawString","parsed","JSON","parse","Array","isArray","err","console","log","window","ChirpConnectSDK","Chirp","toAscii","CHIRP_KEY","Home","_React$Component","_getPrototypeOf2","_this","Object","classCallCheck","this","_len","arguments","length","args","_key","possibleConstructorReturn","getPrototypeOf","call","apply","concat","state","chirpState","componentDidMount","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","key","onStateChanged","previous","current","setState","onReceived","data","text","sdk","stop","history","push","pathname","purchases","sent","inherits","createClass","value","src","readerImg","alt","CircleWave_CircleWave","Spinner_Spinner","React","Component","Table","es","columns","id","name","price","Header","accessor","onSwishClick","payLink","location","replace","Payment","allProducts","items","filtered","map","eachProductId","find","Table_Table","onClick","style","backgroundImage","swishBtnImg","Result","TextInput","onChange","evt","target","type","Button","assign","App","receivedText","send","error","onTextChange","TextInput_TextInput","Button_Button","container","document","getElementById","ReactDOM","render","BrowserRouter","Route","exact","path","component","withRouter","Demo","onclick","webkitRequestFullScreen"],"mappings":"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","file":"static/js/main.cf76c89e.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/izettle-reader.433acb61.png\";","module.exports = __webpack_public_path__ + \"static/media/swish_button.396cf05a.png\";","import React from \"react\";\nimport classnames from \"classnames\";\nimport \"./style.css\";\n\nexport const Spinner = () => (\n  <div className={\"spinner-container\"}>\n    <div className={classnames(\"circle\", \"circle1\")} />\n    <div className={classnames(\"circle\", \"circle2\")} />\n    <div className={classnames(\"circle\", \"circle3\")} />\n    <div className={classnames(\"circle\", \"circle4\")} />\n  </div>\n);\n","import React from \"react\";\nimport \"./style.css\";\n\nexport const CircleWave = props => {\n  return (\n    <div className=\"circle-wave-container\">\n      {props.children}\n\n      <div className=\"circle-wave\" />\n    </div>\n  );\n};\n","import find from \"lodash.find\";\n\nexport const checkIfValidPurchases = rawString => {\n  try {\n    const parsed = JSON.parse(rawString);\n    if (Array.isArray(parsed)) {\n      return true;\n    }\n  } catch (err) {\n    console.log(err);\n  }\n  return false;\n};\n\nexport const filterProducts = (allProducts, products) => {\n  const filtered = products.map(eachProductId => {\n    const p = find(allProducts, { id: eachProductId });\n    return p;\n  });\n  return filtered;\n};\n","import React from \"react\";\nimport { Spinner } from \"../../components/Spinner\";\nimport readerImg from \"../../assets/izettle-reader.png\";\nimport { CircleWave } from \"../../components/CircleWave\";\nimport { checkIfValidPurchases } from \"../../utils/util\";\n\nimport \"./style.css\";\n\nconst { Chirp, toAscii } = window.ChirpConnectSDK;\nconst CHIRP_KEY = \"5442954CfaAE356FCA8Df2E2F\";\n\nexport class Home extends React.Component {\n  state = {\n    chirpState: null\n  };\n  componentDidMount = async () => {\n    this.sdk = await Chirp({\n      key: CHIRP_KEY,\n      onStateChanged: (previous, current) => {\n        this.setState(() => ({ chirpState: current }));\n      },\n      onReceived: data => {\n        if (data.length > 0) {\n          const text = toAscii(data);\n          const isValid = checkIfValidPurchases(text);\n          if (isValid) {\n            this.sdk.stop();\n            this.props.history.push({\n              pathname: \"/payment\",\n              state: { purchases: JSON.parse(text) }\n            });\n          }\n        }\n      }\n    });\n  };\n\n  render() {\n    console.log(this.state);\n    return (\n      <div className=\"home-container\">\n        <div className=\"reader-flowing\">\n          <div className=\"reader-image-container\">\n            <img src={readerImg} alt=\"reader\" className=\"reader-image\" />\n          </div>\n          <CircleWave />\n        </div>\n        <Spinner />\n        <p className=\"saving\">\n          Listening for your purchases\n          <span>.</span>\n          <span>.</span>\n          <span>.</span>\n        </p>\n      </div>\n    );\n  }\n}\n","import ReactTable from \"react-table\";\nimport React from \"react\";\nimport \"react-table/react-table.css\";\nimport \"./style.scss\";\n\nexport const Table = props => {\n  return <ReactTable data={props.data} columns={props.columns} />;\n};\n","import React from \"react\";\nimport { Table } from \"../../components/Table\";\nimport \"./style.scss\";\nimport { filterProducts } from \"../../utils/util\";\nimport swishBtnImg from \"../../assets/swish_button.png\";\n\nconst data = [\n  { id: 1, name: \"APPLE\", price: 25 },\n  { id: 2, name: \"MELON\", price: 15 },\n  { id: 3, name: \"DURIAN\", price: 30 },\n  { id: 4, name: \"MANGO\", price: 25 },\n  { id: 5, name: \"DRAGON FRUIT\", price: 15 },\n  { id: 6, name: \"GRAPE\", price: 30 },\n  { id: 7, name: \"FIG\", price: 15 },\n  { id: 8, name: \"KUMQUAT\", price: 10 },\n  { id: 9, name: \"KIWIFRUIT\", price: 15 },\n  { id: 10, name: \"PRUNE\", price: 30 },\n  { id: 11, name: \"SATSUMA\", price: 10 },\n  { id: 12, name: \"PINEAPPLE\", price: 10 },\n  { id: 13, name: \"STRAWBERRY\", price: 10 },\n  { id: 14, name: \"LEMON\", price: 30 },\n  { id: 15, name: \"POMEGRANATE\", price: 25 },\n  { id: 16, name: \"POMELO\", price: 25 }\n];\n\nconst columns = [\n  {\n    Header: \"Name\",\n    accessor: \"name\"\n  },\n  {\n    Header: \"Price\",\n    accessor: \"price\"\n  }\n];\nconst onSwishClick = () => {\n  const back_scheme = \"https://atulr.com/success\";\n  const token = \"123123123123123123312\";\n  const payLink = `swish://paymentrequest?token=${token}&callbackurl=${back_scheme}`;\n  window.location.replace(`${payLink}`);\n};\n\nexport const Payment = props => {\n  const state = props.location.state || {};\n  const items = state.purchases || [];\n  const filtered = filterProducts(data, items);\n  return (\n    <div className=\"payment-container\">\n      <Table data={filtered} columns={columns} />\n      <div className=\"payment-button-container\">\n        <div\n          onClick={onSwishClick}\n          className=\"pay-btn\"\n          style={{ backgroundImage: `url(${swishBtnImg})` }}\n        />\n      </div>\n    </div>\n  );\n};\n","import React from \"react\";\n\nexport const Result = () => {\n  return <div>Result</div>;\n};\n","import React from \"react\";\nimport \"./style.scss\";\nexport class TextInput extends React.Component {\n  onChange = evt => this.props.onChange(evt.target.value);\n  render() {\n    return (\n      <input\n        className=\"text-input\"\n        type=\"text\"\n        onChange={this.onChange}\n        value={this.props.value}\n      />\n    );\n  }\n}\n","import React from \"react\";\nimport \"./style.scss\";\n\nexport const Button = props => {\n  return <button className=\"button-style\" {...props} />;\n};\n","import React, { Component } from \"react\";\nimport { TextInput } from \"../../components/TextInput\";\nimport { Button } from \"../../components/Button\";\n\nconst { Chirp, toAscii } = window.ChirpConnectSDK;\nconst CHIRP_KEY = \"5442954CfaAE356FCA8Df2E2F\";\nclass App extends Component {\n  state = {\n    text: \"\",\n    chirpState: null,\n    receivedText: null\n  };\n\n  componentDidMount = async () => {\n    this.sdk = await Chirp({\n      key: CHIRP_KEY,\n      onStateChanged: (previous, current) => {\n        this.setState(() => ({ chirpState: current }));\n      },\n      onReceived: data => {\n        if (data.length > 0) {\n          const text = toAscii(data);\n          return this.setState(() => ({ receivedText: text }));\n        } else {\n          this.setState(() => ({ receivedText: null }));\n        }\n      }\n    });\n  };\n\n  send = () => {\n    if (!this.sdk) {\n      return console.error(\"sdk not yet initialised.. please wait\");\n    }\n    this.sdk.send(this.state.text);\n  };\n\n  onTextChange = text => {\n    this.setState(() => ({ text }));\n  };\n  render() {\n    console.log(this.state);\n\n    return (\n      <div className=\"App\">\n        <div>CHIRP STATUS: {this.state.chirpState || \"Not Initialised\"}</div>\n        <br />\n        <hr />\n        <br />\n\n        <div>\n          Enter text to send:\n          <TextInput onChange={this.onTextChange} value={this.state.text} />\n        </div>\n        <div>\n          <Button onClick={this.send}>Send</Button>\n        </div>\n\n        <br />\n        <hr />\n        <br />\n        <i>(Send data from another tab to receive here)</i>\n        <div>Received Text: {this.state.receivedText || \"Listening....\"}</div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport { App } from \"./App\";\n\nconst container = document.getElementById(\"root\");\nReactDOM.render(<App />, container);\n\ncontainer.onclick = () => {\n  container.webkitRequestFullScreen();\n};\n","import React from \"react\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport { Home } from \"./pages/Home\";\nimport { withRouter } from \"react-router-dom\";\n\nimport { Payment } from \"./pages/Payment\";\nimport { Result } from \"./pages/Result\";\nimport Demo from \"./pages/demo\";\n\nexport const App = () => (\n  <Router>\n    <div>\n      {console.log(\"Hello\")}\n      <Route exact path=\"/\" component={withRouter(Home)} />\n      <Route path=\"/home\" component={withRouter(Home)} />\n      <Route path=\"/payment\" component={withRouter(Payment)} />\n      <Route path=\"/result\" component={withRouter(Result)} />\n      <Route path=\"/demo\" component={withRouter(Demo)} />\n      <Route path=\"/swish-via-sound-pwa\" component={withRouter(Home)} />\n    </div>\n  </Router>\n);\n"],"sourceRoot":""}